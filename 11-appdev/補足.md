- React アプリケーションの開発手法
    - React アプリケーションのデバッグ
        - コンソールにデータをダンプする
            - console.log() は複数の引数を取ることができて、その場合は半角スペ ースで区切られて表示される。改行を入れたい場合は間に '\n' の文字列を入れてあげる
        - console.log 以外の console オブジェクトが持つメソッド
            - console.info()...... 情報メッセージとして出力。ブラウザによっては i マークが付く
            - console.debug()...... デバッグメッセージとして出力
            - console.warn()...... 警告メッセージとして出力。⚠ マークが付き、背景がイエローになる
            - console.error() ...... エラーメッセージとして出力。x マークが付き背景がレッドになり、スタックトレース情報が付加される
        - コンソールへの各種ダンプが体験できるデモアプリ
            - 11-appdev/01-debug/console/ を参照
        - オブジェクトをダンプするための専用のメソッド
            - console.dir() ...... そのプロトタイプをルートとして要素を JSON 状のツリーとして出力。 DOM オブジェクト を特別扱いしない
            - console.dirxml() ...... 展開したオブジェクトをルートとして要素を JSON 状のツリーとして出力。 DOM オブ ジェクトは HTML 上のツリーにして表示する
            - console.table()...... データを表形式で出力する
        - React Developer Tools を使いこなす
            - 『Components』タブを有効にして設定の歯車アイコンをクリック。『Debugging』タブの『Hide logs during second render in Strict Mode』チェックを有効
            - 『Components』タブでは『Hide components where ...』に次のようにフィルターがなければ追加しておく
            - 通常のデバッグではこの設定がないと見づらくなってしまう
            - 『Profiler』タブで『Record why each component rendered profiling.』チェックを有効にする。これ はパフォーマンス計測をしたときに、そのコンポーネントがレンダリングされた理由を記録しておくためのもの
            - コンポーネントをクリックする と右ペインにそのコンポーネントの props の内容や、どんな Hooks が使われているかまでわかる
    - コンポーネントの設計
        - 命名規則を遵守する
            - 大文字/小文字の使い方よりさらに踏み込んだ名前のつけ方については、Naming cheatsheet が参考になる。https://github.com/kettanaito/naming-cheatsheet
            - 純粋なコードスタイルで Prettier の領分 担ってる部分を除外すると次のようになる
                - ひとつのファイルにひとつのコンポーネント
                - ファイル名とコンポーネント名を一致させる
                - コンポーネント名には ReservationCard のようなパスカルケース、それを参照するために格納した変数名には reservationCard のようなローワーキャメルケースを適用する
                - ディレクトリと同名で参照したいコンポーネントを作る際のファイル名は Footer/Footer.tsx ではなくFooter/index.tsx のようにする
                - デフォルトエクスポートにする際にも、必ずコンポーネントには名前をつけておく
        - SOLID の原則
            - React アプリケーションを構成する基本単位はコンポーネントで、このコンポーネントを適切に設計で きるかというのがアプリケーション全体のメンテナンス性に大きく関わってくる
            - 5 つの原則の頭文字を取ったもの
                - 1. 単一責任の原則
                    - 『変更するための理由が、ひとつのクラスに対してひとつ以上あってはならない』というもの。コンポーネントに適用すれば、それぞれのコンポーネントはひとつの責務だけを持つべきであるということ
                    - 分割可能な複数の UI をひとつのコンポーネントに詰め込まないとか、Custom Hook で分離できるロジックは分離する
                - 2. オープン/クローズドの原則
                    - ソフトウェアの実体は拡張に対して開かれているべきであり、 修正に対して閉じていなければならない』というもの。子クラスで実現したい機能があるたびに親クラス を修正するようではいけない
                    - メニューバーを表現するコンポーネントがあったとして、メニューの追加・変更があるたびに そのコンポーネントの props や state に変更が入るようにしない
                - 3. リスコフの置換原則
                    - 『派生型(サブクラス)は、その基底型(親クラス)と置換可能 でなければならない』
                    - 子クラスで親クラスのプロパティやメソッドを、その意味や入出力を変更する形でオーバーライドしてはダメ
                    - クラスを使うときは継承より合成を気をつける
                - 4. インターフェース分離の原則
                    - 『汎用的なひとつの インターフェースよりも、それぞれのクライアントに適した複数のインターフェースがあったほうがよい』
                    - コンポーネントのインターフェースとはほぼ props のことだから、たとえば User オブジェクトの name プロパティしか使ってないコンポーネントの props に User オブジェクトを丸ごと渡すよう に設計しない
                - 5. 依存関係逆転の原則
                    - 『上位のモジュールは下位のモジュールに依存してはならない』と いうもの。インポートするほうが上位モジュール、インポートされるほうが下位モジュールにあたる
                    - 『具象ではなく抽象に依存するべき』
                    - 特定の データフェッチライブラリを直接使うコードがアプリケーションのあちこちにあると、それを乗り換えた くなったときにすごく苦労する。だから抽象レイヤーとなるものを作っておいて、それ経由で使うように しておく
        - Presentational Component と Container Component
            - ロジックを持ったコンポーネントと持たないコンポーネントね。そこで見た目だけを責務とするコンポーネントと、それを包含してロジックを追加するコンポーネントに分けて管理しようという考え方がある。前者を Presentational Component、後者を Container Component と呼ぶ
            - React の公式ドキュメントには『React の流儀(Thinking in React)』という章があって、そこで公式 が推奨するコンポーネントの正しい作り方が説明されてる
                - 1. デザインモックから始め、その UI をコンポーネントの階層構造に分解して落とし込む
                - 2. ロジックを盛り込んでない、静的に表現するバージョンを作成する
                - 3. 目的の機能を実現するために最低限必要な state を特定する
                - 4. stateを配置し、それが適切なタイミングで更新される副作用処理を記述する
                - 5. 必要に応じて state のリフトアップを追加する
            - Presentational Component
                - 「どのように見えるか」に関心を持つ
                - 内部に DOM マークアップをふんだんに持つ
                - データや振る舞いを props として一方的に受け取る
                - グローバルな状態に依存しない
                - 自身の状態を持たない(UI の状態は除く)
                - データの変更に介入しない
                - 関数コンポーネントで表現されることが多い
            - Container Component
                - 「どのように機能するか」に関心を持つ
                - DOM マークアップを可能な限り持たない
                - データや振る舞いを他のコンポーネントに受け渡す
                - グローバルな状態に依存することがある
                - しばしばデータの状態を持つ
                - しばしばデータの変更に介入して、任意の副作用処 理を行う
                - Hooks や HOC、render props が使われることが多い
            - Presentational Component例
                - src/components/TimerBox.tsxを参照
            - container component例
                - src/components/CountdownTimer.tsxを参照
        - Atomic Design
            - UI デザインの手法。UIの構成要素を5段階に分類し、それに化学 のアナロジーで名前をつけるというユニークなもの
                - Atoms (原子) 
                    - ボタンやツールチップのような、それ以上分割できない最小の UI 構成要素。Chakra UI のような UI コンポーネントキットが 提供してる単位とほぼ一致する
                - Molecules (分子) 
                    - 複数の Atom を組み合わせて構成する UI パーツの単位
                - Organisms (有機体) 
                    - Atom と Molecules を組み合わせて構築される、特定の役割に特化したパーツ。再利用性は個々のアプリケーショ ンの中に閉じててかまわない
                - Templates (テンプレート) 
                    - 下位のパーツを使って画面のレイアウトを行う。画面全体のワイヤーフレームのようなも ので、それ自身が具体的なコンテンツやスタイルを持たない。
                - Pages (ページ)
                    - 特定のテンプレートをひとつだけ持ち、そこに具体的なコンテンツを流し込む
            - どこにロジックを持たせるべきか
                - A brief look at Atomic Component(s Atomic Components の概要)を参照。https://bit.ly/3QvGNnY
            - Atomic Design を React アプリに適用する際の経験則
                - Atoms ではマージンやポジションを決め打ちしない
                - Molecules と Organisms の境界線は「ドメイン知識を持つ」かどうか
                    - ドメインとは、システムにおけるビジネス上の関心領域のこと
                    - フライトの予約システムを作ってるなら、そのアプリケーションのドメインはフライトの予約ということ
        - プロジェクトのディレクトリ構成
            - Bulletproof React という React アプリケーションのアーキテクチャの一例として公開されているリポジトリに適用されているディレクトリ構成が参考になる
                - https://github.com/alan2207/bulletproof-react/blob/master/docs/project-structure.md